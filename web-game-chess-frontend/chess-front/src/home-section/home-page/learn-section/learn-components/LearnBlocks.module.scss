@import '../../../../shared/styles/shared.scss';

.zpattern {
  display: grid;
  grid-template-rows: repeat(4, 1fr);
  padding: 0 8rem;

  &__row {
    position: relative;
    display: grid;
    gap: 8rem;
    padding: 0 8rem;

    &:nth-child(odd) {
      grid-template-columns: 40rem auto;
    }
    &:nth-child(even) {
      grid-template-columns: auto 40rem;

      .row-line-icon {
        svg {
          transform: rotateY(180deg);
        }
      }
    }

    .row-line-icon {
      @include flex(row, center, center, 0);

      position: absolute;
      z-index: 1;
      bottom: 0rem;
      width: 100%;

      svg {
        height: 3.8rem;
        filter: drop-shadow(0 0 0 $mc0) brightness(20%);
        transition: filter 0.5s 0.5s;
      }
    }

    .active-line {
      svg {
        filter: drop-shadow(0 0 0.5rem $mc0) brightness(100%);
      }
    }

    &__icon {
      @include flex(column, center, center, 0);
      @include square(100%);

      position: relative;
      z-index: 1;

      &::after {
        @include subCl(0, 0);
        @include absCenter;
        @include circle(60%);

        z-index: -1;
        background-color: rgba($mc0, 0.1);
        filter: blur(4rem);
      }
    }

    .pieces-icon {
      // &::after {
      //   @include subCl(0, 0);
      //   @include absCenter;
      //   @include circle(60%);

      //   z-index: -1;
      //   background-color: rgba($mc0, 0.2);
      //   filter: blur(4rem);
      // }

      img {
        position: absolute;
        height: 40%;
        filter: drop-shadow(0 0 1rem $mc4);
        transform: rotate(0) translateX(0) translateY(0);
        transition: transform 1s 1s;
      }

      &.active-icon {
        img {
          @for $i from 1 through 5 {
            &:nth-child(#{$i}) {
              transform: rotate(calc(($i - 3) * 20deg))
                translateX(($i - 3) * 8rem)
                translateY(-5rem);
            }
          }
        }
      }
    }

    .counter-icon {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0.5rem;

      div {
        @include rounded(1rem);
        @include flex(row, start, center, 0);

        height: 16rem;
        background-color: #000;
        border-top: solid 0.4rem $mc9;
        border-right: solid 0.4rem $mc9;
        font-family: 'Knewave';
        font-size: 10rem;
        user-select: none;
        box-shadow: 0 0 2rem 0 $mc9;
      }
    }

    .engine-con {
      @include wh100();
      @include flex();

      .enigne-icon {
        height: 60%;

        .st0 {
          fill: none;
          stroke: $mc1;
          stroke-width: 2;
          stroke-linecap: round;
          stroke-linejoin: round;
          stroke-miterlimit: 10;

          animation: moveLine 1s forwards;
        }

        @keyframes moveLine {
          from {
            /* Starting position */
            x1: 1;
          }
          to {
            /* Ending position */
            x1: 7;
          }
        }
      }
    }

    .message-con {
      @include wh100();
      position: relative;

      .message-icon {
        position: absolute;
        height: 32%;

        transform: translateY(-50%) rotateY(180deg);

        &:nth-child(1) {
          top: 35%;
          left: 6rem;
          transform: translateY(-50%) rotateY(180deg);
        }
        &:nth-child(2) {
          top: 50%;
          right: 6rem;
          transform: translateY(-50%) rotateY(0);
        }
        &:nth-child(3) {
          top: 65%;
          left: 6rem;
          transform: translateY(-50%) rotateY(180deg);
        }
      }
    }

    &__text {
      @include flex(column, center, start, 1rem);

      z-index: 1;
      opacity: 0;
      transform: translateY(5rem);
      transition: all 1s 0.5s;

      .row-h3 {
        font-size: $xl-tx;
        margin-left: 4rem;
        border-bottom: dashed 0.2rem $mc0;
        filter: drop-shadow(0 0 1rem $gc6);
      }

      .row-p {
        font-size: $md-tx;
        color: $gc4;
      }
    }

    .active-text {
      transform: translateY(0);
      opacity: 1;
    }
  }
}

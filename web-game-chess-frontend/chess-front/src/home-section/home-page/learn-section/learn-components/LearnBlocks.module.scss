@import "../../../../shared/styles/shared.scss";

.zpattern {
  display: grid;
  grid-template-rows: repeat(4, 1fr);
  padding: 0 8rem;

  &__row {
    position: relative;
    display: grid;
    gap: 8rem;
    padding: 0 8rem;

    &:nth-child(odd) {
      grid-template-columns: 40rem auto;
    }
    &:nth-child(even) {
      grid-template-columns: auto 40rem;

      .row-line-icon {
        svg {
          transform: rotateY(180deg);
        }
      }
    }

    .row-line-icon {
      @include flex(row, center, center, 0);

      position: absolute;
      bottom: 0rem;
      width: 100%;

      svg {
        height: 3.8rem;
        filter: drop-shadow(0 0 0 $mc0) brightness(20%);
        transition: filter 0.5s 0.5s;
      }
    }

    .active-line {
      svg {
        filter: drop-shadow(0 0 0.5rem $mc0) brightness(100%);
      }
    }

    &__icon {
      @include flex(column, center, center, 0);
      @include square(100%);

      position: relative;
    }

    .pieces-icon {
      &::after {
        @include subCl(0, 0);
        @include absCenter;
        @include circle(60%);

        z-index: -1;
        background-color: rgba($mc0, 0.2);
        filter: blur(4rem);
      }

      img {
        position: absolute;
        height: 40%;
        filter: drop-shadow(0 0 1rem $mc4);
        transform: rotate(0) translateX(0) translateY(0);
        transition: transform 1s 1s;
      }

      &.active-icon {
        img {
          @for $i from 1 through 5 {
            &:nth-child(#{$i}) {
              transform: rotate(calc(($i - 3) * 20deg))
                translateX(($i - 3) * 8rem)
                translateY(-5rem);
            }
          }
        }
      }
    }

    .counter-icon {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0.5rem;

      div {
        @include rounded(1rem);
        @include flex(row, start, center, 0);

        height: 16rem;
        background-color: #000;
        border: solid 0.4rem $mc5;
        font-family: "Knewave";
        font-size: 10rem;
        user-select: none;
      }
    }

    &__text {
      @include flex(column, center, start, 0);

      opacity: 0;
      transform: translateY(5rem);
      transition: all 1s 0.5s;

      h3 {
        font-size: 4rem;
      }

      p {
        font-size: 2rem;
      }
    }

    .active-text {
      transform: translateY(0);
      opacity: 1;
    }
  }
}
